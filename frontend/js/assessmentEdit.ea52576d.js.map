{"version":3,"sources":["webpack:///./src/views/Assessment.vue?b4ed","webpack:///./src/views/Assessment.vue?5eaf","webpack:///src/views/Assessment.vue","webpack:///./src/views/Assessment.vue?c7c6","webpack:///./node_modules/vuetify/lib/components/VSnackbar/VSnackbar.js","webpack:///./src/views/Assessment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","theme","colors","brandPrimColor","surveyStatus","_v","_s","$t","_e","on","surveyCurrentPageNo","exitSurveyForNow","survey","model","value","callback","$$v","snackbar","expression","snackbarText","notValidFileType","$event","staticRenderFns","mixins","extend","name","props","multiLine","Boolean","timeout","type","Number","default","vertical","data","activeTimeout","computed","isActive","absolute","bottom","top","left","right","watch","setTimeout","$attrs","hasOwnProperty","methods","window","clearTimeout","h","class","classes","$listeners","setBackgroundColor","color","$slots","component","VBtn","VCol","VProgressCircular","VProgressLinear","VRow","VSnackbar"],"mappings":"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","file":"js/assessmentEdit.ea52576d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loadingSurvey)?_c('div',{staticClass:\"text-center survey-preloader\"},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"size\":50,\"color\":_vm.theme.colors.brandPrimColor}})],1):_c('div',{staticClass:\"container\",attrs:{\"id\":\"surveyElement\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"10\"}},[_c('div',{staticClass:\"bottomNav\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-center\"},[_c('div',{staticClass:\"col-md-10 col-12\"},[(_vm.surveyStatus == 'paused' || _vm.surveyStatus == 'new')?_c('div',{staticClass:\"rem-time\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('Asses.remainTime'))+\":\")]),_c('button',{attrs:{\"title\":_vm.$t('Asses.pause'),\"id\":\"remainTime\"}})]):_vm._e(),_c('div',{staticClass:\"custom-navigator d-none\",attrs:{\"id\":\"navi\"}},[_c('select',{attrs:{\"id\":\"pageSelector\"},on:{\"change\":_vm.surveyCurrentPageNo}},[_c('option',{attrs:{\"disabled\":\"\"}},[_vm._v(\"اختر الصفحة\")])]),_c('i',{staticClass:\"fas fa-angle-down\"})]),(_vm.surveyStatus == 'paused' || _vm.surveyStatus == 'new')?_c('div',{staticClass:\"working-survey\"},[_c('a',{attrs:{\"id\":\"surveyComplete\"},on:{\"click\":_vm.exitSurveyForNow}},[_vm._v(\" \"+_vm._s(_vm.$t('Asses.pause')))])]):_vm._e()])])])]),(_vm.loadingQLoader)?_c('div',{staticClass:\"text-center qloader-preloader\"},[_vm._v(\",\\n                \"),_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":50,\"color\":_vm.theme.colors.brandPrimColor}})],1):_vm._e(),_c('survey',{attrs:{\"survey\":_vm.survey}})],1)],1),_c('div',{staticClass:\"text-center ma-2\"},[_c('v-snackbar',{model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.snackbarText.notValidFileType)+\"\\n        \"),_c('v-btn',{attrs:{\"color\":\"pink\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('public.close'))+\"\\n        \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n\r\n<template>\r\n    <div class=\"text-center survey-preloader\" v-if=\"loadingSurvey\">\r\n       <v-progress-linear\r\n        indeterminate\r\n        :size=\"50\"\r\n        :color=\"theme.colors.brandPrimColor\"\r\n        ></v-progress-linear>\r\n    </div>\r\n    <div id=\"surveyElement\" class=\"container\" v-else>\r\n         <v-row justify=\"center\">\r\n          <v-col cols=\"12\"  md=\"10\">\r\n                <div class=\"bottomNav\">\r\n                    <div class=\"container\">\r\n                        <div class=\"row justify-center\">\r\n                            <div class=\"col-md-10 col-12\">\r\n                                <div v-if=\"surveyStatus == 'paused' || surveyStatus == 'new'\" class=\"rem-time\"><strong>{{$t('Asses.remainTime')}}:</strong> <button :title=\"$t('Asses.pause')\" id=\"remainTime\"></button> </div>\r\n                                \r\n                                <div class=\"custom-navigator d-none\" id=\"navi\">\r\n                                    <select id=\"pageSelector\" class=\"\" @change=\"surveyCurrentPageNo\">\r\n                                        <option disabled>اختر الصفحة</option>\r\n                                    </select>\r\n                                    <i class=\"fas fa-angle-down\"></i>\r\n                                </div>\r\n                                <div v-if=\"surveyStatus == 'paused' || surveyStatus == 'new'\" class=\"working-survey\">\r\n                                    <a id=\"surveyComplete\" @click=\"exitSurveyForNow\"> {{$t('Asses.pause')}}</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"text-center qloader-preloader\" v-if=\"loadingQLoader\">,\r\n                    <v-progress-circular\r\n                        indeterminate\r\n                        :size=\"50\"\r\n                        :color=\"theme.colors.brandPrimColor\"\r\n                    ></v-progress-circular>\r\n                </div>\r\n\r\n                 \r\n\r\n                <survey :survey='survey'/>\r\n                \r\n          </v-col>\r\n         </v-row>\r\n         <div class=\"text-center ma-2\">\r\n            <v-snackbar\r\n            v-model=\"snackbar\"\r\n            >\r\n            {{ snackbarText.notValidFileType }}\r\n            <v-btn\r\n                color=\"pink\"\r\n                text\r\n                @click=\"snackbar = false\"\r\n            >\r\n                {{$t('public.close')}}\r\n            </v-btn>\r\n            </v-snackbar>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // VUEX\r\n    import i18n from '@/plugins/i18n';\r\n    import { mapGetters } from 'vuex';\r\n    import Api from '../service/Api';\r\n    import axios from 'axios';\r\n\r\n    // import SurveyEditor from './components/SurveyEditor'\r\n   \r\n    import * as SurveyVue from 'survey-vue'\r\n    let Survey = SurveyVue.Survey\r\n    // Survey.StylesManager.applyTheme(\"default\");\r\n\r\n    \r\n\r\n\r\n\r\n    export default {\r\n        components: {\r\n            Survey,\r\n        },\r\n        data () {\r\n            let json = {}\r\n            var model = new SurveyVue.Model(json)\r\n            return {\r\n                survey: model,\r\n                assessmentData: {},\r\n                surveyResults: {},\r\n                surveyStatus: 'new',\r\n                wholeSurveyErrors: [],\r\n\r\n                snackbar: false,\r\n                snackbarText: {\r\n                    notValidFileType : \"الملفات المرفقة لابد ان تكون بالامتدادات التالية (.pdf | .png | .jpeg | .jpg | .doc | .xls | .xlsx | .docx)\", \r\n                }\r\n\r\n            }\r\n        },\r\n        beforeRouteLeave (to, from, next) {\r\n            if (!from.meta.saved) {\r\n                this.exitSurveyForNow();\r\n                \r\n            } else {\r\n                next();\r\n            }\r\n        },\r\n        mounted() {\r\n            \r\n            let vueScope = this;\r\n            window.onbeforeunload = function(){\r\n                vueScope.exitSurveyForNow();\r\n            };\r\n\r\n            const config = {\r\n                headers: {\r\n                    \"Authorization\": localStorage.getItem('FBidToken'),\r\n                }\r\n            }\r\n            \r\n            var put = this.$route.params.id\r\n            this.$store.commit('SET_LOADING', { name: 'ui', value: true});\r\n            Api().get(`/assessments/${this.$route.params.id}`,config)\r\n            .then((res) => {\r\n                if (res.data.status == 401) {\r\n                    this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                    this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\r\n                    \r\n                } else {\r\n                    this.assessmentData = res.data.data\r\n\r\n                    this.survey = new SurveyVue.Model(this.assessmentData);\r\n                    this.survey.onStarted.add(function(sender) {\r\n                        Api().get(`/assessments/survey-start/`+put,config)\r\n                        .then((res) => {\r\n                            vueScope.$route.meta.saved = false;\r\n                            let navi = document.getElementById('navi');\r\n                            navi.classList.remove(\"d-none\");\r\n                            // navi.classList.add(\"d-flex\");\r\n                        })\r\n                        .catch((error) => {\r\n                            this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                            this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\r\n\r\n                        })\r\n\r\n                    });\r\n                    \r\n                \r\n                    function startTimer(duration, display) {\r\n                    if (duration > 0) {\r\n                        var timer = duration, minutes, seconds;\r\n                        minutes = parseInt(timer / 60, 10);\r\n                        seconds = parseInt(timer % 60, 10);\r\n    \r\n                        minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n                        seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n    \r\n                        display.textContent = minutes + \":\" + seconds;\r\n                        \r\n                    } else {\r\n                        vueScope.survey.doComplete();\r\n                    }\r\n\r\n                    }\r\n                    \r\n                    let display = document.getElementById('remainTime');\r\n                    startTimer((this.survey.maxTimeToFinish - this.survey.timeSpent), display);\r\n                    \r\n                    this.survey.onTimerPanelInfoText.add((sender, options) => {      \r\n                        startTimer((this.survey.maxTimeToFinish - this.survey.timeSpent), display);\r\n                        options.text = ``;\r\n                    });\r\n\r\n                    // this.survey.onValidateQuestion.add(this.surveyValidateQuestion);\r\n\r\n\r\n                    this.survey.onUploadFiles.add(function (survey, options) {\r\n                        let formData = new FormData();\r\n                        \r\n                        options.files.forEach(function (file) {\r\n                            if (file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\" || file.type == \"application/pdf\" || file.type == \"application/xls\" || file.type == \"application/xlsx\" || file.type == \"application/doc\" || file.type == \"application/docx\" ) {\r\n                                formData.append(file.name, file);\r\n                            }\r\n                        });\r\n\r\n                        this.$store.commit('SET_LOADING', { name: 'qLoader', value: true});\r\n                        const config = {\r\n                            headers: {\r\n                            \"Authorization\": localStorage.getItem('FBidToken'),\r\n                            }\r\n                        }\r\n                        Api().post('media/upload', formData, config)\r\n                        .then((response) => {\r\n                            options.callback(\"success\", options.files.map((file, x) => {\r\n                                if (file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\" || file.type == \"application/pdf\" || file.type == \"application/xls\" || file.type == \"application/xlsx\" || file.type == \"application/doc\" || file.type == \"application/docx\" ) {\r\n                                    return {\r\n                                        file: file,\r\n                                        content: response.data.data[x][file.name].link\r\n                                    };\r\n                                }\r\n                            }));\r\n                            this.$store.commit('SET_LOADING', { name: 'qLoader', value: false});\r\n                        })\r\n                        .catch((error) => {\r\n                            this.snackbar = true;\r\n                            this.$store.commit('SET_LOADING', { name: 'qLoader', value: false});\r\n\r\n                        });\r\n                    }.bind(this));\r\n\r\n                    if(this.assessmentData.answers){ //check if edit assessment\r\n                        this.survey.data =this.assessmentData.answers;\r\n                        this.survey.currentPageNo  = this.assessmentData.pageNo;\r\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n\r\n                    }\r\n\r\n                    this.survey.onCurrentPageChanged.add(this.doOnCurrentPageChanged);\r\n                    \r\n                    this.survey.onComplete.add((result)  => {\r\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: true});\r\n                        this.$route.meta.saved = true;\r\n                        this.surveyResults.answers = result.data;\r\n                        const config = {\r\n                            headers: {\r\n                                \"Authorization\": localStorage.getItem('FBidToken'),\r\n                            }\r\n                        }\r\n                        \r\n                        \r\n                        if (this.surveyStatus == 'paused') {\r\n                            this.surveyResults.status= 1;\r\n                            this.surveyResults.pageNo = this.survey.currentPageNo\r\n                            Api().put(`/assessments/${this.$route.params.id}`, this.surveyResults, config)\r\n                            .then((res) => {\r\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                                this.$router.push({name: 'profile'});   // ROUTE TO PROFILE\r\n                            })\r\n                            .catch((error) => {\r\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                            })\r\n\r\n                        } else {\r\n                            this.surveyStatus = 'completed';\r\n                            this.surveyResults.status= 2;\r\n                            Api().put(`/assessments/${this.$route.params.id}`, this.surveyResults, config)\r\n                            .then((res) => {\r\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                                this.$router.push({ name: 'assessmentReport', params: { id: this.$route.params.id } }) ;   // ROUTE TO Reports\r\n                            })\r\n                            .catch((error) => {\r\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                                this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\r\n\r\n                            })\r\n                        }\r\n\r\n                    });\r\n\r\n                    if(this.assessmentData.status==2){\r\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                        this.$router.push({ name: 'assessmentReport', params: { id: this.$route.params.id } }) ;   // ROUTE TO Reports\r\n                    }\r\n                    this.setupPageSelector(this.survey);\r\n                    this.doOnCurrentPageChanged(this.survey);\r\n                }\r\n                \r\n\r\n            })\r\n            .catch((error) => {\r\n                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\r\n                this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\r\n\r\n            })\r\n            \r\n        },\r\n        methods: {\r\n            surveyValidateQuestion(s, options) {\r\n                \r\n                if (s.isLastPage) {\r\n                    \r\n                } else {\r\n                    for (let index = 0; index < s.currentPage.elements.length; index++) {\r\n                        const element = s.currentPage.elements[index];\r\n                        if (element.isRequired && !element.value) {\r\n                            this.wholeSurveyErrors.push(element.name);\r\n                            index == 4 ? this.survey.nextPage() : false;\r\n                        }\r\n                        return true\r\n                    }\r\n                    \r\n\r\n\r\n                }\r\n                \r\n            },\r\n            surveyCompleteLastPage(){\r\n                this.survey.completeLastPage();\r\n            },\r\n            surveyNextPage () {\r\n                this.survey.nextPage();\r\n            },\r\n            surveyPrevPage () {\r\n                this.survey.prevPage();\r\n            },\r\n            surveyCurrentPageNo(e){\r\n                this.survey.currentPageNo = e.target.value\r\n            },\r\n            doOnCurrentPageChanged(survey) {\r\n                document\r\n                    .getElementById('pageSelector')\r\n                    .value = survey.currentPageNo;\r\n                // document\r\n                //     .getElementById('surveyPrev')\r\n                //     .style\r\n                //     .display = !survey.isFirstPage\r\n                //         ? \"inline\"\r\n                //         : \"none\";\r\n                // document\r\n                //     .getElementById('surveyNext')\r\n                //     .style\r\n                //     .display = !survey.isLastPage\r\n                //         ? \"inline\"\r\n                //         : \"none\";\r\n                // document\r\n                //     .getElementById('surveyComplete')\r\n                //     .style\r\n                //     .display = survey.isLastPage\r\n                //         ? \"inline\"\r\n                //         : \"none\";\r\n                // document\r\n                //     .getElementById('surveyProgress')\r\n                //     .innerText = \"Page \" + (\r\n                // survey.currentPageNo + 1) + \" of \" + survey.visiblePageCount + \".\";\r\n                if (document.getElementById('surveyPageNo')) \r\n                    document\r\n                        .getElementById('surveyPageNo')\r\n                        .value = survey.currentPageNo;\r\n            },\r\n\r\n            setupPageSelector(survey) {\r\n                var selector = document.getElementById('pageSelector');\r\n                for (var i = 0; i < survey.visiblePages.length; i++) {\r\n                    var option = document.createElement(\"option\");\r\n                    option.value = i;\r\n                    option.text = \"صفحة \" + (\r\n                    i+1);\r\n                    selector.add(option);\r\n                }\r\n            },\r\n            \r\n            exitSurveyForNow() {\r\n                this.surveyStatus = 'paused'\r\n                this.survey.completeLastPage();\r\n                this.$route.meta.saved = true;\r\n\r\n                // let options = {\r\n                //         // html: false, // set to true if your message contains HTML tags. eg: \"Delete <b>Foo</b> ?\"\r\n                //         loader: true, // set to true if you want the dailog to show a loader after click on \"proceed\"\r\n                //         reverse: false, // switch the button positions (left to right, and vise versa)\r\n                //         okText: 'Continue',\r\n                //         cancelText: 'Close',\r\n                //         animation: 'zoom', // Available: \"zoom\", \"bounce\", \"fade\"\r\n                //         type: 'basic', // coming soon: 'soft', 'hard'\r\n                //         verification: 'continue', // for hard confirm, user will be prompted to type this to enable the proceed button\r\n                //         verificationHelp: 'Type \"[+:verification]\" below to confirm', // Verification help text. [+:verification] will be matched with 'options.verification' (i.e 'Type \"continue\" below to confirm')\r\n                //         clicksCount: 3, // for soft confirm, user will be asked to click on \"proceed\" btn 3 times before actually proceeding\r\n                //         backdropClose: false, // set to true to close the dialog when clicking outside of the dialog window, i.e. click landing on the mask\r\n                //         customClass: 'exit-dialog' // Custom class to be injected into the parent node for the current dialog instance\r\n                //     };\r\n\r\n                // this.$dialog.confirm(i18n.messages[this.locale].public.sureToLeave, options)\r\n                // .then(function () {\r\n                //     next();\r\n                // })\r\n                // .catch(function () {\r\n                //     next(false);\r\n                //     let exitBtn = document.getElementById(\"surveyComplete\")\r\n                //     exitBtn.style.backgroundColor = \"green\";\r\n                //     exitBtn.style.color = \"white\";\r\n                //     exitBtn.style.padding = \"10px\";\r\n                //     exitBtn.style.fontSize = \"15px\";\r\n                //     exitBtn.style.textDecoration = \"none\";\r\n                //     exitBtn.style.borderRadius = \"10px\";\r\n                    \r\n                    \r\n                // });\r\n            }\r\n            \r\n        },\r\n        computed: {\r\n            ...mapGetters([\"loadingSurvey\", \"loadingQLoader\", \"theme\", \"locale\"]),\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n\r\n    @import '../assets/surveyVue.css';\r\n    .v-progress-circular {\r\n      margin: 1rem;\r\n    }\r\n\r\n    .survey-preloader {\r\n      //position: absolute;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      /* z-index: 1; */\r\n      padding: 30%;\r\n      background: white;\r\n    }\r\n\r\n    .qloader-preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 3;\r\n        padding: 30%;\r\n        background: transparent;\r\n    }\r\n\r\n\r\n\r\n    // .rem-time {\r\n    //     margin: 20px auto;\r\n    //     position: absolute;\r\n    //     z-index: 1;\r\n    //     right: 5%;\r\n\r\n\r\n    //     i {\r\n    //         position: absolute;\r\n    //         bottom: 8px;\r\n    //         left: 33px;\r\n    //         color: #f4f4f4;\r\n    //         z-index: 0;\r\n    //     }\r\n        \r\n    //     #remainTime {\r\n    //         border-radius: 100px;\r\n    //         width: 80px;\r\n    //         height: 80px;\r\n    //         background-color: #f4f4f4;\r\n    //         color: red;\r\n    //         font-weight: bold;\r\n    //         font-size: 20px;\r\n    //         border: 3px solid #ffb0b0;\r\n    //     }\r\n\r\n    //     #remainTime:hover {\r\n    //         border-radius: 100px;\r\n    //         width: 80px;\r\n    //         height: 80px;\r\n    //         background-color: red;\r\n    //         color: white;\r\n    //         font-weight: bold;\r\n\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    #surveyComplete:focus {\r\n        background: green !important;\r\n        padding: 20px;\r\n\r\n    }\r\n\r\n\r\n    .survey-completed {\r\n        text-align: center;\r\n    }\r\n    \r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q_rating .sv_q_rating_item {\r\n        word-spacing: -2px !important;\r\n    }\r\n    .sv_p_root > .sv_row:nth-child(even) {\r\n        background: #fff !important;\r\n    }\r\n    .sv_p_root > .sv_row {\r\n        // padding-bottom: 10px;\r\n        // border: 1px dashed var(--brandHTextColor) !important;\r\n        box-shadow: 0 0 10px 0 #ccc;\r\n        border-radius: 0;\r\n    }\r\n    .sv_row {\r\n        margin-bottom: 25px;\r\n        border-radius: 10px;\r\n        overflow: auto;\r\n    }\r\n    input {\r\n        padding: 3px;\r\n        margin-bottom:5px;\r\n    }\r\n    .sv_p_container {\r\n        width: 100% !important;\r\n\r\n    }\r\n    .sv-boolean__switch {\r\n        background: var(--brandPrimColor);\r\n    }\r\n\r\n    .sv_main.sv_main .sv-boolean  .sv-boolean__slider {\r\n \r\n        background: white;\r\n        margin-right:  calc(100% - 20px);\r\n        margin-left:auto;\r\n\r\n    }\r\n     .sv_main.sv_main .sv-boolean.sv-boolean--checked.checked .sv-boolean__slider {\r\n \r\n        background: white;\r\n        margin-left:  calc(100% - 20px);\r\n        margin-right:auto;\r\n\r\n    }\r\n    .sv_main{\r\n        background: transparent\r\n    }\r\n    .sv_main .sv_custom_header {\r\n    background-color: transparent;\r\n    }\r\n    .sv_main .sv_header {\r\n        background: transparent !important;\r\n        text-align: center;\r\n        h3{\r\n            text-align: center !important;\r\n        }\r\n    }\r\n    .sv_main .sv_body {\r\n        background-color: #f4f4f4;\r\n        border-top: 0px;\r\n        padding: 30px 35px !important;\r\n        margin-bottom: 20px;\r\n    }\r\n    .sv_main .sv_container .sv_body .sv_nav {\r\n    padding: 2em 0 0;\r\n    min-height: 2em;\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n.sv_main .sv_p_root > .sv_row {\r\n    border-bottom: 0;\r\n}\r\n.sv_main .sv_container .sv_body .sv_p_root .sv_q{\r\n    padding: 10px 0;\r\n}\r\n.sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_q_other input, .sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_q_dropdown_control, .sv_main .sv_container .sv_body .sv_p_root .sv_q input:not([type=\"button\"]):not([type=\"reset\"]):not([type=\"submit\"]):not([type=\"image\"]):not([type=\"checkbox\"]):not([type=\"radio\"]), .sv_main .sv_container .sv_body .sv_p_root .sv_q select {\r\n    height: calc(3em + 1px);\r\n}\r\n.sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper:before {\r\n    padding: 1.5em;\r\n}\r\n    .sv_main input[type=\"button\"], .sv_main button{\r\n        padding: 3px;\r\n    border-radius: 4px;\r\n    }\r\n    .sv_main .sv_container .sv_header h3 {\r\n    margin: 0;\r\n}\r\n    .sv_main input[type=\"button\"]:hover, .sv_main button:hover {\r\n        background-color:  var(--brandPrimColor);\r\n        box-shadow:  0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)\r\n    }\r\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q {\r\n        padding: 20px ;\r\n    }\r\n\r\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q textarea {\r\n        padding: 10px;\r\n    }\r\n    .sv_progress { \r\n            \r\n               \r\n            span{\r\n                    direction: rtl;\r\n                    width: 100%;\r\n                    display: block;\r\n                    padding-top: 15px;\r\n            }\r\n\r\n            \r\n        \r\n        }\r\n\r\n\r\n        .sv_main .sv_container .sv_body .sv_p_root .sv_q_rating {\r\n    line-height: 2em;\r\n    text-align: center;\r\n    font-size: 1.2em;\r\n}\r\n\r\n.sv_main .sv_q_rating_item.active .sv_q_rating_item_text {\r\n    background-color:   var(--brandPrimColor);\r\n    border-color:   var(--brandPrimColor);\r\n    color: white;\r\n}\r\n\r\n\r\n    /* RTL CUSTOM */\r\n    .v-application.v-application--is-rtl {\r\n        .sv_select_wrapper select{\r\n                padding-right: 1em !important;\r\n        }\r\n        .sv_select_wrapper:before{\r\n               right: auto !important;\r\n               left: 0;\r\n        }\r\n\r\n        .sv_qstn {\r\n            float: right;\r\n\r\n            clear: both;\r\n        }\r\n\r\n        .sv_main .sv_container .sv_body .sv_p_root table td, .sv_main .sv_container .sv_body .sv_p_root table th {\r\n            text-align: right;\r\n        }\r\n        .sv_start_btn, .sv_next_btn, .sv_complete_btn {float: left !important;}\r\n        .sv_prev_btn {float: right !important;}\r\n        .sv_progress { \r\n            \r\n                text-align: left;\r\n                direction: ltr;\r\n            span{\r\n                    direction: ltr;\r\n                    width: 100%;\r\n                    display: block;\r\n                    padding-top: 15px;\r\n            }\r\n\r\n            .sv_progress_bar {\r\n\r\n                float: right;\r\n                margin: 0 !important;\r\n            }\r\n        \r\n        }\r\n\r\n    }\r\n    \r\n\r\n    .sv_progress_bar{\r\n            background-color: #bdbdbd;\r\n    }\r\n\r\n\r\n.bottomNav{\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    width: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    background: #fff;\r\n    \r\n    box-shadow: 0 0 5px 0 #ababab;\r\n    .rem-time{\r\n        display: inline-block;\r\n        button{\r\n            border: 2px solid #ff5252;\r\n            border-radius: 20px;\r\n            padding: 3px 20px;\r\n            margin: 0 12px;\r\n            color: #ff5252;\r\n            font-weight: 800;\r\n        }\r\n        \r\n    }\r\n    .working-survey{\r\n       // display: inline-block;\r\n        float: left;\r\n        margin: 4px 20px 0;\r\n        font-weight: bold;\r\n        a{\r\n            // font-size: .8rem;\r\n            color:rgba(0, 0, 0, 0.87);\r\n            text-decoration: underline;\r\n            &:hover{\r\n                color: var(--brandPrimColor);\r\n            }\r\n        }\r\n        @media (max-width: 786px){\r\n            float: none;\r\n            margin: 15px 20px 0;\r\n            text-align: center;\r\n        }\r\n    }\r\n    .custom-navigator {\r\n       \r\n        z-index: 5;\r\n        text-align: center;\r\n        -webkit-transition: all ease-in-out 2s;\r\n        transition: all ease-in-out 2s;\r\n         float: left;\r\n        position: relative;\r\n\r\n\r\n        select {\r\n            border: 2px solid var(--brandPrimColor);\r\n            border-radius: 20px;\r\n            padding: 3px 15px 3px 30px;\r\n            background: #fff;\r\n            cursor: pointer;\r\n            text-align: center;\r\n            margin: auto;\r\n            -webkit-transition: all ease-in-out 2s;\r\n            transition: all ease-in-out 2s;\r\n            font-weight: bold;\r\n            color: var(--brandPrimColor);\r\n\r\n\r\n            &:focus {\r\n                outline: none;\r\n                box-shadow: none;\r\n            }\r\n\r\n            \r\n\r\n        }\r\n\r\n        i {\r\n            position: absolute;\r\n            top: 10px;\r\n            left: 10px;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n.input-container input {\r\n    border: none;\r\n    box-sizing: border-box;\r\n    outline: 0;\r\n    padding: .75rem;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\ninput[type=\"date\"]::-webkit-calendar-picker-indicator {\r\n    background: transparent;\r\n    bottom: 0;\r\n    color: transparent;\r\n    cursor: pointer;\r\n    height: auto;\r\n    left: 0;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: auto;\r\n}\r\n  \r\n.sv_q_file{\r\n    .sv_q_file_remove_button{\r\n        display: none;\r\n    }\r\n    .sv_q_file_preview{\r\n        \r\n        width: 30%;\r\n        text-align: center;\r\n        margin: 1%;\r\n        border: 1px solid #f4f4f4;\r\n        padding: 15px;\r\n        img{\r\n            width: 100%;\r\n            height: 200px;\r\n        }\r\n        a{\r\n           height: 40px;\r\n            overflow: hidden;\r\n            display: block;\r\n        }\r\n    }\r\n}\r\n\r\n    \r\n\r\n    \r\n\r\n\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=js&\"","// Styles\nimport \"../../../src/components/VSnackbar/VSnackbar.sass\"; // Mixins\n\nimport Colorable from '../../mixins/colorable';\nimport Toggleable from '../../mixins/toggleable';\nimport { factory as PositionableFactory } from '../../mixins/positionable'; // Types\n\nimport mixins from '../../util/mixins';\nimport { removed } from '../../util/console';\nexport default mixins(Colorable, Toggleable, PositionableFactory(['absolute', 'top', 'bottom', 'left', 'right'])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n  props: {\n    multiLine: Boolean,\n    // TODO: change this to closeDelay to match other API in delayable.js\n    timeout: {\n      type: Number,\n      default: 6000\n    },\n    vertical: Boolean\n  },\n  data: () => ({\n    activeTimeout: -1\n  }),\n  computed: {\n    classes() {\n      return {\n        'v-snack--active': this.isActive,\n        'v-snack--absolute': this.absolute,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical\n      };\n    }\n\n  },\n  watch: {\n    isActive() {\n      this.setTimeout();\n    }\n\n  },\n\n  created() {\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this);\n    }\n  },\n\n  mounted() {\n    this.setTimeout();\n  },\n\n  methods: {\n    setTimeout() {\n      window.clearTimeout(this.activeTimeout);\n\n      if (this.isActive && this.timeout) {\n        this.activeTimeout = window.setTimeout(() => {\n          this.isActive = false;\n        }, this.timeout);\n      }\n    }\n\n  },\n\n  render(h) {\n    return h('transition', {\n      attrs: {\n        name: 'v-snack-transition'\n      }\n    }, [this.isActive && h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      on: this.$listeners\n    }, [h('div', this.setBackgroundColor(this.color, {\n      staticClass: 'v-snack__wrapper'\n    }), [h('div', {\n      staticClass: 'v-snack__content'\n    }, this.$slots.default)])])]);\n  }\n\n});\n//# sourceMappingURL=VSnackbar.js.map","import { render, staticRenderFns } from \"./Assessment.vue?vue&type=template&id=18a772b0&\"\nimport script from \"./Assessment.vue?vue&type=script&lang=js&\"\nexport * from \"./Assessment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Assessment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCol,VProgressCircular,VProgressLinear,VRow,VSnackbar})\n"],"sourceRoot":""}