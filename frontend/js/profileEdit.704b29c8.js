(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profileEdit"],{"2fa8":function(e,r,o){"use strict";var t=o("8ac0"),s=o.n(t);s.a},"58a4":function(e,r,o){},"7fda":function(e,r,o){"use strict";var t=o("58a4"),s=o.n(t);s.a},"8ac0":function(e,r,o){},c8a9:function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("v-container",[o("v-row",{staticClass:"ProfileEdit",attrs:{justify:"center"}},[o("v-col",{attrs:{sm:"10",md:"8"}},[o("h2",{staticClass:"mb-5"},[e._v(e._s(e.$t("ProfileEdit.title")))]),o("AppProfileEditForm")],1)],1)],1)},s=[],l=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"profile block"},[o("div",{staticClass:"profile-picture big-profile-picture clear"},[o("v-avatar",{attrs:{size:"150"}},[o("v-img",{staticClass:"card-img",attrs:{src:e.userCredentials.profile.profile_picture?e.userCredentials.profile.profile_picture:"/img/avatar.jpg"}}),o("div",{staticClass:"updateAvatar"},[o("input",{attrs:{type:"file",id:"imageInput",hidden:""},on:{change:e.handleImageChange}}),o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var t=r.on;return[o("v-btn",e._g({staticClass:"mx-2 btn-primary",attrs:{fab:"",small:"",absolute:"",right:"",bottom:"",dark:""},on:{click:e.editImage}},t),[o("v-icon",{attrs:{dark:""}},[e._v(e._s(e.svg.camera))])],1)]}}])},[o("span",[e._v(e._s(e.$t("Profile.editProfileImg")))])])],1)],1)],1),o("v-form",{ref:"form",staticClass:"edit-profile-form",on:{submit:function(r){return r.preventDefault(),e.updateProfileHandlerSubmit(r)}}},[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("ProfileEdit.firstName"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40","append-icon":"mdi-account-outline",rules:e.nameRules,filled:""},model:{value:e.userCredentials.profile.firstname,callback:function(r){e.$set(e.userCredentials.profile,"firstname",r)},expression:"userCredentials.profile.firstname"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("ProfileEdit.lastName"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40",filled:"","append-icon":"mdi-account-outline",rules:e.nameRules},model:{value:e.userCredentials.profile.lastname,callback:function(r){e.$set(e.userCredentials.profile,"lastname",r)},expression:"userCredentials.profile.lastname"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("signup.emailPlaceholder"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40",filled:"","append-icon":"mdi-email-outline",rules:e.emailRules},model:{value:e.userCredentials.profile.email,callback:function(r){e.$set(e.userCredentials.profile,"email",r)},expression:"userCredentials.profile.email"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("signup.mobilePlaceholder"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40",filled:"","append-icon":"mdi-phone-outline",rules:e.mobileRules},model:{value:e.userCredentials.profile.mobile,callback:function(r){e.$set(e.userCredentials.profile,"mobile",r)},expression:"userCredentials.profile.mobile"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("ProfileEdit.position"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40",filled:"","append-icon":"mdi-account-outline",rules:e.nameRules},model:{value:e.userCredentials.profile.position,callback:function(r){e.$set(e.userCredentials.profile,"position",r)},expression:"userCredentials.profile.position"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{"append-icon":e.showPassword?e.svg.visibility:e.svg.visibilityOff,type:e.showPassword?"text":"password",name:"input-10-1","background-color":e.theme.colors.brandGrayColor,label:e.$t("ProfileEdit.newPassword"),placeholder:e.$t("ProfileEdit.resetPassword"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,height:"40",filled:"",rules:e.passRules,autocomplete:"new-password"},on:{"click:append":function(r){e.showPassword=!e.showPassword}},model:{value:e.newPasswprd,callback:function(r){e.newPasswprd=r},expression:"newPasswprd"}})],1),o("v-col",{attrs:{cols:"12",sm:"12"}},[o("v-text-field",{attrs:{"background-color":e.theme.colors.brandGrayColor,label:e.$t("ProfileEdit.address"),loading:e.loadingForm,color:e.theme.colors.brandPTextColor,light:"",height:"40",filled:"","append-icon":"mdi-account-outline",rules:e.nameRules},model:{value:e.userCredentials.profile.address,callback:function(r){e.$set(e.userCredentials.profile,"address",r)},expression:"userCredentials.profile.address"}})],1),o("v-col",{attrs:{cols:"12",sm:"12"}},[o("v-textarea",{attrs:{type:"text",loading:e.loadingForm,"no-resize":"","background-color":e.theme.colors.brandGrayColor,label:e.$t("Profile.YourBio"),color:e.theme.colors.brandPTextColor,light:"",height:"100",filled:"","append-icon":"mdi-account-card-details",rules:e.bioRules},model:{value:e.userCredentials.profile.bio,callback:function(r){e.$set(e.userCredentials.profile,"bio",r)},expression:"userCredentials.profile.bio"}})],1),o("v-col",{attrs:{cols:"12",sm:"12"}},[e.errors?o("div",{staticClass:"subtitle1 text-center text-capitalize red--text"},e._l(e.errors,(function(r,t){return o("p",{key:t},[e._v(e._s(r))])})),0):e._e()]),o("v-col",{attrs:{cols:"12",sm:"12"}},[o("div",{staticClass:"mt-5"},[o("v-btn",{attrs:{type:"submit",large:"",loading:e.loadingForm,color:e.theme.colors.brandPrimColor,elevation:"0",dark:""}},[e._v("\n                            "+e._s(e.$t("ProfileEdit.submitBtn"))+"\n                        ")])],1)])],1)],1)],1)],1)},a=[],i=o("502e"),n=o("d3a4"),d=o("94ed"),c=o("2f62"),u=(o("bc3a"),{mixins:[i["a"]],data(){return{showPassword:!1,newPasswprd:"",nameRules:[e=>!!e||n["a"].messages[this.locale].signup.errors.reqUserName],emailRules:[e=>!!e||n["a"].messages[this.locale].signup.errors.reqEmail,e=>/.+@.+\..+/.test(e)||n["a"].messages[this.locale].signup.errors.emailMustValid],mobileRules:[e=>!!e||n["a"].messages[this.locale].signup.errors.reqMobile,e=>/^(009665|9665|\+9665|05|5)(5|0|3|6|4|9|1|8|7)([0-9]{7})$/.test(e)||n["a"].messages[this.locale].signup.errors.mobileMustValid],passRules:[e=>e&&e.length>=6||0==e.length||n["a"].t("signup.errors.passMoreThanNChars",{n:"6"})],bioRules:[e=>!!e||n["a"].messages[this.locale].signup.errors.reqBio,e=>e&&e.length>=10||n["a"].t("signup.errors.bioMoreThanNChars",{n:"10"})],svg:{visibility:d["i"],visibilityOff:d["h"],camera:d["c"]}}},methods:{updateProfileHandlerSubmit(){let e=Object({NODE_ENV:"production",VUE_APP_TITLE:"Self Assessment",VUE_APP_API:"http://api.selfassest.localhost/",BASE_URL:"/"}).VUE_APP_ORG_SLUG,r=window.location.host,o=r.split("."),t=o[0];this.$refs.form.validate()&&this.$store.dispatch("EDIT_USER_DETAILS",{locale:this.locale,organization:e||t,firstname:this.userCredentials.profile.firstname,lastname:this.userCredentials.profile.lastname,mobile:this.userCredentials.profile.mobile,email:this.userCredentials.profile.email,position:this.userCredentials.profile.position,address:this.userCredentials.profile.address,password:this.newPasswprd,bio:this.userCredentials.profile.bio}).then(()=>{this.$router.push({name:"profile"})})},handleImageChange(e){var r=e.target.files[0],o=new FileReader,t=this.$store;o.onload=function(e){return function(e){var r=e.target.result,o=window.btoa(r);const s={image:o};t.dispatch("UPLOAD_IMAGE",s)}}(),o.readAsBinaryString(r)},editImage(){const e=document.getElementById("imageInput");e.click()}},computed:{...Object(c["b"])(["errors","loadingForm","theme","locale","userCredentials"])},beforeDestroy(){this.$store.dispatch("CLEAR_ERROR")},mounted(){}}),m=u,p=(o("7fda"),o("2877")),f=o("6544"),h=o.n(f),b=o("8212"),g=o("8336"),v=o("62ad"),C=o("a523"),P=o("4bd4"),w=o("132d"),x=o("adda"),_=o("0fd9"),E=o("8654"),k=o("a844"),$=o("3a2f"),y=Object(p["a"])(m,l,a,!1,null,"d085953a",null),R=y.exports;h()(y,{VAvatar:b["a"],VBtn:g["a"],VCol:v["a"],VContainer:C["a"],VForm:P["a"],VIcon:w["a"],VImg:x["a"],VRow:_["a"],VTextField:E["a"],VTextarea:k["a"],VTooltip:$["a"]});var V={components:{AppProfileEditForm:R}},T=V,A=(o("2fa8"),Object(p["a"])(T,t,s,!1,null,"a455f38c",null));r["default"]=A.exports;h()(A,{VCol:v["a"],VContainer:C["a"],VRow:_["a"]})}}]);
//# sourceMappingURL=profileEdit.704b29c8.js.map