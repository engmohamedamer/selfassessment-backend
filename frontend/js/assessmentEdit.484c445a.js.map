{"version":3,"sources":["webpack:///./src/views/Assessment.vue?b4ed","webpack:///./src/views/Assessment.vue?011c","webpack:///src/views/Assessment.vue","webpack:///./src/views/Assessment.vue?c7c6","webpack:///./node_modules/vuetify/lib/components/VSnackbar/VSnackbar.js","webpack:///./src/views/Assessment.vue?f7c9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","theme","colors","brandPrimColor","surveyStatus","_v","_s","$t","_e","on","surveyCurrentPageNo","exitSurveyForNow","survey","model","value","callback","$$v","snackbar","expression","snackbarText","notValidFileType","$event","staticRenderFns","mixins","extend","name","props","multiLine","Boolean","timeout","type","Number","default","vertical","data","activeTimeout","computed","isActive","absolute","bottom","top","left","right","watch","setTimeout","$attrs","hasOwnProperty","methods","window","clearTimeout","h","class","classes","$listeners","setBackgroundColor","color","$slots","component","VBtn","VCol","VProgressCircular","VProgressLinear","VRow","VSnackbar"],"mappings":"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","file":"js/assessmentEdit.484c445a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loadingSurvey)?_c('div',{staticClass:\"text-center survey-preloader\"},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"size\":50,\"color\":_vm.theme.colors.brandPrimColor}})],1):_c('div',{staticClass:\"container\",attrs:{\"id\":\"surveyElement\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"10\"}},[_c('div',{staticClass:\"bottomNav\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-center\"},[_c('div',{staticClass:\"col-md-10 col-12\"},[(_vm.surveyStatus == 'paused' || _vm.surveyStatus == 'new')?_c('div',{staticClass:\"rem-time\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('Asses.remainTime'))+\":\")]),_c('button',{attrs:{\"id\":\"remainTime\"}})]):_vm._e(),_c('div',{staticClass:\"custom-navigator d-none\",attrs:{\"id\":\"navi\"}},[_c('select',{attrs:{\"id\":\"pageSelector\"},on:{\"change\":_vm.surveyCurrentPageNo}},[_c('option',{attrs:{\"disabled\":\"\"}},[_vm._v(\"اختر الصفحة\")])]),_c('i',{staticClass:\"fas fa-angle-down\"})]),(_vm.surveyStatus == 'paused' || _vm.surveyStatus == 'new')?_c('div',{staticClass:\"working-survey\"},[_c('a',{attrs:{\"id\":\"surveyComplete\"},on:{\"click\":_vm.exitSurveyForNow}},[_vm._v(\" \"+_vm._s(_vm.$t('Asses.pause')))])]):_vm._e()])])])]),(_vm.loadingQLoader)?_c('div',{staticClass:\"text-center qloader-preloader\"},[_vm._v(\",\\n                \"),_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":50,\"color\":_vm.theme.colors.brandPrimColor}})],1):_vm._e(),_c('survey',{attrs:{\"survey\":_vm.survey}})],1)],1),_c('div',{staticClass:\"text-center ma-2\"},[_c('v-snackbar',{model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.snackbarText.notValidFileType)+\"\\n        \"),_c('v-btn',{attrs:{\"color\":\"pink\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('public.close'))+\"\\n        \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n<template>\n    <div class=\"text-center survey-preloader\" v-if=\"loadingSurvey\">\n       <v-progress-linear\n        indeterminate\n        :size=\"50\"\n        :color=\"theme.colors.brandPrimColor\"\n        ></v-progress-linear>\n    </div>\n    <div id=\"surveyElement\" class=\"container\" v-else>\n         <v-row justify=\"center\">\n          <v-col cols=\"12\"  md=\"10\">\n                <div class=\"bottomNav\">\n                    <div class=\"container\">\n                        <div class=\"row justify-center\">\n                            <div class=\"col-md-10 col-12\">\n                                <div v-if=\"surveyStatus == 'paused' || surveyStatus == 'new'\" class=\"rem-time\"><strong>{{$t('Asses.remainTime')}}:</strong> <button id=\"remainTime\"></button> </div>\n                                \n                                <div class=\"custom-navigator d-none\" id=\"navi\">\n                                    <select id=\"pageSelector\" class=\"\" @change=\"surveyCurrentPageNo\">\n                                        <option disabled>اختر الصفحة</option>\n                                    </select>\n                                    <i class=\"fas fa-angle-down\"></i>\n                                </div>\n                                <div v-if=\"surveyStatus == 'paused' || surveyStatus == 'new'\" class=\"working-survey\">\n                                    <a id=\"surveyComplete\" @click=\"exitSurveyForNow\"> {{$t('Asses.pause')}}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"text-center qloader-preloader\" v-if=\"loadingQLoader\">,\n                    <v-progress-circular\n                        indeterminate\n                        :size=\"50\"\n                        :color=\"theme.colors.brandPrimColor\"\n                    ></v-progress-circular>\n                </div>\n\n                 \n\n                <survey :survey='survey'/>\n                \n          </v-col>\n         </v-row>\n         <div class=\"text-center ma-2\">\n            <v-snackbar\n            v-model=\"snackbar\"\n            >\n            {{ snackbarText.notValidFileType }}\n            <v-btn\n                color=\"pink\"\n                text\n                @click=\"snackbar = false\"\n            >\n                {{$t('public.close')}}\n            </v-btn>\n            </v-snackbar>\n        </div>\n        \n    </div>\n</template>\n\n<script>\n    // VUEX\n    import i18n from '@/plugins/i18n';\n    import { mapGetters } from 'vuex';\n    import Api from '../service/Api';\n    import axios from 'axios';\n\n    // import SurveyEditor from './components/SurveyEditor'\n   \n    import * as SurveyVue from 'survey-vue'\n    let Survey = SurveyVue.Survey\n    // Survey.StylesManager.applyTheme(\"default\");\n\n    \n\n\n\n    export default {\n        components: {\n            Survey,\n        },\n        data () {\n            let json = {}\n            var model = new SurveyVue.Model(json)\n            return {\n                survey: model,\n                assessmentData: {},\n                surveyResults: {},\n                surveyStatus: 'new',\n                wholeSurveyErrors: [],\n\n                snackbar: false,\n                snackbarText: {\n                    notValidFileType : \"الملفات المرفقة لابد ان تكون بالامتدادات التالية (.pdf | .png | .jpeg | .jpg | .doc | .xls | .xlsx | .docx)\", \n                }\n\n            }\n        },\n        beforeRouteLeave (to, from, next) {\n            if (!from.meta.saved) {\n                this.exitSurveyForNow();\n                \n            } else {\n                next();\n            }\n        },\n        mounted() {\n            \n            let vueScope = this;\n            window.onbeforeunload = function(){\n                vueScope.exitSurveyForNow();\n            };\n\n            const config = {\n                headers: {\n                    \"Authorization\": localStorage.getItem('FBidToken'),\n                }\n            }\n            \n            var put = this.$route.params.id\n            this.$store.commit('SET_LOADING', { name: 'ui', value: true});\n            Api().get(`/assessments/${this.$route.params.id}`,config)\n            .then((res) => {\n                if (res.data.status == 401) {\n                    this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                    this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\n                    \n                } else {\n                   this.assessmentData = res.data.data\n\n\n\n                    \n                    this.survey = new SurveyVue.Model(this.assessmentData);\n                    this.survey.onStarted.add(function(sender) {\n                        Api().get(`/assessments/survey-start/`+put,config)\n                        .then((res) => {\n                            vueScope.$route.meta.saved = false;\n                            let navi = document.getElementById('navi');\n                            navi.classList.remove(\"d-none\");\n                            // navi.classList.add(\"d-flex\");\n                        })\n                        .catch((error) => {\n                            this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                            this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\n\n                        })\n\n                    });\n                    \n                \n                    function startTimer(duration, display) {\n                        \n                        \n                        if (!vueScope.survey.maxTimeToFinish) {\n                            display.textContent = '∞'\n\n                        } else if (duration > 0) {\n                            var timer = duration, minutes, seconds;\n                            minutes = parseInt(timer / 60, 10);\n                            seconds = parseInt(timer % 60, 10);\n        \n                            minutes = minutes < 10 ? \"0\" + minutes : minutes;\n                            seconds = seconds < 10 ? \"0\" + seconds : seconds;\n        \n                            display.textContent = minutes + \":\" + seconds;\n                            \n                        } else {\n                            vueScope.survey.doComplete();\n                        }\n\n                    }\n                    \n                    let display = document.getElementById('remainTime');\n                    startTimer((this.survey.maxTimeToFinish - this.survey.timeSpent), display);\n                    \n                    this.survey.onTimerPanelInfoText.add((sender, options) => {      \n                        startTimer((this.survey.maxTimeToFinish - this.survey.timeSpent), display);\n                        options.text = ``;\n                    });\n\n                    // this.survey.onValidateQuestion.add(this.surveyValidateQuestion);\n\n\n                    this.survey.onUploadFiles.add(function (survey, options) {\n                        let formData = new FormData();\n                        \n                        options.files.forEach(function (file) {\n                            if (file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\" || file.type == \"application/pdf\" || file.type == \"application/xls\" || file.type == \"application/xlsx\" || file.type == \"application/doc\" || file.type == \"application/docx\" ) {\n                                formData.append(file.name, file);\n                            }\n                        });\n\n                        this.$store.commit('SET_LOADING', { name: 'qLoader', value: true});\n                        const config = {\n                            headers: {\n                            \"Authorization\": localStorage.getItem('FBidToken'),\n                            }\n                        }\n                        \n                        Api().post('media/upload', formData, config)\n                        .then((response) => {\n                            options.callback(\"success\", options.files.map((file, x) => {\n                                if (file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\" || file.type == \"application/pdf\" || file.type == \"application/xls\" || file.type == \"application/xlsx\" || file.type == \"application/doc\" || file.type == \"application/docx\" ) {\n                                    console.log(file.name);\n                                    return {\n                                        file: file,\n                                        content: response.data.data[x][file.name].link\n                                    };\n                                } else {\n\n                                }\n                            }));\n                            this.$store.commit('SET_LOADING', { name: 'qLoader', value: false});\n                        })\n                        .catch((error) => {\n                            console.log('isueeeeeeeeeeeeeeeee');\n                            \n                            this.snackbar = true;\n                            this.$store.commit('SET_LOADING', { name: 'qLoader', value: false});\n\n                        });\n                    }.bind(this));\n\n                    if(this.assessmentData.answers){ //check if edit assessment\n                        this.survey.data =this.assessmentData.answers;\n                        this.survey.currentPageNo  = this.assessmentData.pageNo;\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n\n                    }\n\n                    this.survey.onCurrentPageChanged.add(this.doOnCurrentPageChanged);\n                    \n                    this.survey.onComplete.add((result)  => {\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: true});\n                        this.$route.meta.saved = true;\n                        this.surveyResults.answers = result.data;\n                        const config = {\n                            headers: {\n                                \"Authorization\": localStorage.getItem('FBidToken'),\n                            }\n                        }\n                        \n                        \n                        if (this.surveyStatus == 'paused') {\n                            this.surveyResults.status= 1;\n                            this.surveyResults.pageNo = this.survey.currentPageNo\n                            Api().put(`/assessments/${this.$route.params.id}`, this.surveyResults, config)\n                            .then((res) => {\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                                this.$router.push({name: 'profile'});   // ROUTE TO PROFILE\n                            })\n                            .catch((error) => {\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                            })\n\n                        } else {\n                            this.surveyStatus = 'completed';\n                            this.surveyResults.status= 2;\n                            Api().put(`/assessments/${this.$route.params.id}`, this.surveyResults, config)\n                            .then((res) => {\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                                this.$router.push({ name: 'assessmentReport', params: { id: this.$route.params.id } }) ;   // ROUTE TO Reports\n                            })\n                            .catch((error) => {\n                                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                                this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\n\n                            })\n                        }\n\n                    });\n\n                    if(this.assessmentData.status==2){\n                        this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                        this.$router.push({ name: 'assessmentReport', params: { id: this.$route.params.id } }) ;   // ROUTE TO Reports\n                    }\n                    this.setupPageSelector(this.survey);\n                    this.doOnCurrentPageChanged(this.survey);\n                }\n                \n\n            })\n            .catch((error) => {\n                this.$store.commit('SET_LOADING', { name: 'ui', value: false});\n                this.$router.push({ name: 'notFound'}) ;   // ROUTE TO NotFound\n\n            })\n            \n        },\n        methods: {\n            surveyValidateQuestion(s, options) {\n                \n                if (s.isLastPage) {\n                    \n                } else {\n                    for (let index = 0; index < s.currentPage.elements.length; index++) {\n                        const element = s.currentPage.elements[index];\n                        if (element.isRequired && !element.value) {\n                            this.wholeSurveyErrors.push(element.name);\n                            index == 4 ? this.survey.nextPage() : false;\n                        }\n                        return true\n                    }\n                    \n\n\n                }\n                \n            },\n            surveyCompleteLastPage(){\n                this.survey.completeLastPage();\n            },\n            surveyNextPage () {\n                this.survey.nextPage();\n            },\n            surveyPrevPage () {\n                this.survey.prevPage();\n            },\n            surveyCurrentPageNo(e){\n                this.survey.currentPageNo = e.target.value\n            },\n            doOnCurrentPageChanged(survey) {\n                document\n                    .getElementById('pageSelector')\n                    .value = survey.currentPageNo;\n                // document\n                //     .getElementById('surveyPrev')\n                //     .style\n                //     .display = !survey.isFirstPage\n                //         ? \"inline\"\n                //         : \"none\";\n                // document\n                //     .getElementById('surveyNext')\n                //     .style\n                //     .display = !survey.isLastPage\n                //         ? \"inline\"\n                //         : \"none\";\n                // document\n                //     .getElementById('surveyComplete')\n                //     .style\n                //     .display = survey.isLastPage\n                //         ? \"inline\"\n                //         : \"none\";\n                // document\n                //     .getElementById('surveyProgress')\n                //     .innerText = \"Page \" + (\n                // survey.currentPageNo + 1) + \" of \" + survey.visiblePageCount + \".\";\n                if (document.getElementById('surveyPageNo')) \n                    document\n                        .getElementById('surveyPageNo')\n                        .value = survey.currentPageNo;\n            },\n\n            setupPageSelector(survey) {\n                var selector = document.getElementById('pageSelector');\n                for (var i = 0; i < survey.visiblePages.length; i++) {\n                    var option = document.createElement(\"option\");\n                    option.value = i;\n                    option.text = \"صفحة \" + (\n                    i+1);\n                    selector.add(option);\n                }\n            },\n            \n            exitSurveyForNow() {\n                this.surveyStatus = 'paused'\n                this.survey.completeLastPage();\n                this.$route.meta.saved = true;\n\n                // let options = {\n                //         // html: false, // set to true if your message contains HTML tags. eg: \"Delete <b>Foo</b> ?\"\n                //         loader: true, // set to true if you want the dailog to show a loader after click on \"proceed\"\n                //         reverse: false, // switch the button positions (left to right, and vise versa)\n                //         okText: 'Continue',\n                //         cancelText: 'Close',\n                //         animation: 'zoom', // Available: \"zoom\", \"bounce\", \"fade\"\n                //         type: 'basic', // coming soon: 'soft', 'hard'\n                //         verification: 'continue', // for hard confirm, user will be prompted to type this to enable the proceed button\n                //         verificationHelp: 'Type \"[+:verification]\" below to confirm', // Verification help text. [+:verification] will be matched with 'options.verification' (i.e 'Type \"continue\" below to confirm')\n                //         clicksCount: 3, // for soft confirm, user will be asked to click on \"proceed\" btn 3 times before actually proceeding\n                //         backdropClose: false, // set to true to close the dialog when clicking outside of the dialog window, i.e. click landing on the mask\n                //         customClass: 'exit-dialog' // Custom class to be injected into the parent node for the current dialog instance\n                //     };\n\n                // this.$dialog.confirm(i18n.messages[this.locale].public.sureToLeave, options)\n                // .then(function () {\n                //     next();\n                // })\n                // .catch(function () {\n                //     next(false);\n                //     let exitBtn = document.getElementById(\"surveyComplete\")\n                //     exitBtn.style.backgroundColor = \"green\";\n                //     exitBtn.style.color = \"white\";\n                //     exitBtn.style.padding = \"10px\";\n                //     exitBtn.style.fontSize = \"15px\";\n                //     exitBtn.style.textDecoration = \"none\";\n                //     exitBtn.style.borderRadius = \"10px\";\n                    \n                    \n                // });\n            }\n            \n        },\n        computed: {\n            ...mapGetters([\"loadingSurvey\", \"loadingQLoader\", \"theme\", \"locale\"]),\n        }\n    }\n\n</script>\n\n<style lang=\"scss\" >\n\n    @import '../assets/surveyVue.css';\n    .v-progress-circular {\n      margin: 1rem;\n    }\n\n    .survey-preloader {\n      //position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      /* z-index: 1; */\n      padding: 30%;\n      background: white;\n    }\n\n    .qloader-preloader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 3;\n        padding: 30%;\n        background: transparent;\n    }\n\n\n\n    // .rem-time {\n    //     margin: 20px auto;\n    //     position: absolute;\n    //     z-index: 1;\n    //     right: 5%;\n\n\n    //     i {\n    //         position: absolute;\n    //         bottom: 8px;\n    //         left: 33px;\n    //         color: #f4f4f4;\n    //         z-index: 0;\n    //     }\n        \n    //     #remainTime {\n    //         border-radius: 100px;\n    //         width: 80px;\n    //         height: 80px;\n    //         background-color: #f4f4f4;\n    //         color: red;\n    //         font-weight: bold;\n    //         font-size: 20px;\n    //         border: 3px solid #ffb0b0;\n    //     }\n\n    //     #remainTime:hover {\n    //         border-radius: 100px;\n    //         width: 80px;\n    //         height: 80px;\n    //         background-color: red;\n    //         color: white;\n    //         font-weight: bold;\n\n    //     }\n    // }\n\n\n\n\n\n\n    #surveyComplete:focus {\n        background: green !important;\n        padding: 20px;\n\n    }\n\n\n    .survey-completed {\n        text-align: center;\n    }\n    \n\n\n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q_rating .sv_q_rating_item {\n        word-spacing: -2px !important;\n    }\n    .sv_p_root > .sv_row:nth-child(even) {\n        background: #fff !important;\n    }\n    .sv_p_root > .sv_row {\n        // padding-bottom: 10px;\n        // border: 1px dashed var(--brandHTextColor) !important;\n        box-shadow: 0 0 10px 0 #ccc;\n        border-radius: 0;\n    }\n    .sv_row {\n        margin-bottom: 25px;\n        border-radius: 10px;\n        overflow: auto;\n    }\n    input {\n        padding: 3px;\n        margin-bottom:5px;\n    }\n    .sv_p_container {\n        width: 100% !important;\n\n    }\n    .sv-boolean__switch {\n        background: var(--brandPrimColor);\n    }\n\n    .sv_main.sv_main .sv-boolean  .sv-boolean__slider {\n \n        background: white;\n        margin-right:  calc(100% - 20px);\n        margin-left:auto;\n\n    }\n     .sv_main.sv_main .sv-boolean.sv-boolean--checked.checked .sv-boolean__slider {\n \n        background: white;\n        margin-left:  calc(100% - 20px);\n        margin-right:auto;\n\n    }\n    .sv_main{\n        background: transparent\n    }\n    .sv_main .sv_custom_header {\n    background-color: transparent;\n    }\n    .sv_main .sv_header {\n        background: transparent !important;\n        text-align: center;\n        h3{\n            text-align: center !important;\n        }\n    }\n    .sv_main .sv_body {\n        background-color: #f4f4f4;\n        border-top: 0px;\n        padding: 30px 35px !important;\n        margin-bottom: 20px;\n    }\n    .sv_main .sv_container .sv_body .sv_nav {\n    padding: 2em 0 0;\n    min-height: 2em;\n    display: inline-block;\n    width: 100%;\n}\n.sv_main .sv_p_root > .sv_row {\n    border-bottom: 0;\n}\n.sv_main .sv_container .sv_body .sv_p_root .sv_q{\n    padding: 10px 0;\n}\n.sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_q_other input, .sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_q_dropdown_control, .sv_main .sv_container .sv_body .sv_p_root .sv_q input:not([type=\"button\"]):not([type=\"reset\"]):not([type=\"submit\"]):not([type=\"image\"]):not([type=\"checkbox\"]):not([type=\"radio\"]), .sv_main .sv_container .sv_body .sv_p_root .sv_q select {\n    height: calc(3em + 1px);\n}\n.sv_main .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper:before {\n    padding: 1.5em;\n}\n    .sv_main input[type=\"button\"], .sv_main button{\n        padding: 3px;\n    border-radius: 4px;\n    }\n    .sv_main .sv_container .sv_header h3 {\n    margin: 0;\n}\n    .sv_main input[type=\"button\"]:hover, .sv_main button:hover {\n        background-color:  var(--brandPrimColor);\n        box-shadow:  0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)\n    }\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q {\n        padding: 20px ;\n    }\n\n    .sv_main .sv_container .sv_body .sv_p_root .sv_q textarea {\n        padding: 10px;\n    }\n    .sv_progress { \n            \n               \n            span{\n                    direction: rtl;\n                    width: 100%;\n                    display: block;\n                    padding-top: 15px;\n            }\n\n            \n        \n        }\n\n\n        .sv_main .sv_container .sv_body .sv_p_root .sv_q_rating {\n    line-height: 2em;\n    text-align: center;\n    font-size: 1.2em;\n}\n\n.sv_main .sv_q_rating_item.active .sv_q_rating_item_text {\n    background-color:   var(--brandPrimColor);\n    border-color:   var(--brandPrimColor);\n    color: white;\n}\n\n\n    /* RTL CUSTOM */\n    .v-application.v-application--is-rtl {\n        .sv_select_wrapper select{\n                padding-right: 1em !important;\n        }\n        .sv_select_wrapper:before{\n               right: auto !important;\n               left: 0;\n        }\n\n        .sv_qstn {\n            float: right;\n\n            clear: both;\n        }\n\n        .sv_main .sv_container .sv_body .sv_p_root table td, .sv_main .sv_container .sv_body .sv_p_root table th {\n            text-align: right;\n        }\n        .sv_start_btn, .sv_next_btn, .sv_complete_btn {float: left !important;}\n        .sv_prev_btn {float: right !important;}\n        .sv_progress { \n            \n                text-align: left;\n                direction: ltr;\n            span{\n                    direction: ltr;\n                    width: 100%;\n                    display: block;\n                    padding-top: 15px;\n            }\n\n            .sv_progress_bar {\n\n                float: right;\n                margin: 0 !important;\n            }\n        \n        }\n\n    }\n    \n\n    .sv_progress_bar{\n            background-color: #bdbdbd;\n    }\n\n\n.bottomNav{\n    position: fixed;\n    bottom: 0;\n    z-index: 1000;\n    width: 100%;\n    left: 0;\n    right: 0;\n    background: #fff;\n    \n    box-shadow: 0 0 5px 0 #ababab;\n    .rem-time{\n        display: inline-block;\n        button{\n            border: 2px solid #ff5252;\n            border-radius: 20px;\n            padding: 3px 20px;\n            margin: 0 12px;\n            color: #ff5252;\n            font-weight: 800;\n        }\n        \n    }\n    .working-survey{\n       // display: inline-block;\n        float: left;\n        margin: 4px 20px 0;\n        font-weight: bold;\n        a{\n            // font-size: .8rem;\n            color:rgba(0, 0, 0, 0.87);\n            text-decoration: underline;\n            &:hover{\n                color: var(--brandPrimColor);\n            }\n        }\n        @media (max-width: 786px){\n            float: none;\n            margin: 15px 20px 0;\n            text-align: center;\n        }\n    }\n    .custom-navigator {\n       \n        z-index: 5;\n        text-align: center;\n        -webkit-transition: all ease-in-out 2s;\n        transition: all ease-in-out 2s;\n         float: left;\n        position: relative;\n\n\n        select {\n            border: 2px solid var(--brandPrimColor);\n            border-radius: 20px;\n            padding: 3px 15px 3px 30px;\n            background: #fff;\n            cursor: pointer;\n            text-align: center;\n            margin: auto;\n            -webkit-transition: all ease-in-out 2s;\n            transition: all ease-in-out 2s;\n            font-weight: bold;\n            color: var(--brandPrimColor);\n\n\n            &:focus {\n                outline: none;\n                box-shadow: none;\n            }\n\n            \n\n        }\n\n        i {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n        }\n    }\n}\n\n\n.input-container input {\n    border: none;\n    box-sizing: border-box;\n    outline: 0;\n    padding: .75rem;\n    position: relative;\n    width: 100%;\n}\ninput[type=\"date\"]::-webkit-calendar-picker-indicator {\n    background: transparent;\n    bottom: 0;\n    color: transparent;\n    cursor: pointer;\n    height: auto;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: auto;\n}\n  \n.sv_q_file{\n    .sv_q_file_remove_button{\n        display: none;\n    }\n    .sv_q_file_remove{\n        display: none;\n        position: absolute;\n        top: 10%;\n        bottom: 0;\n        right: 10%;\n        left: 0;\n        height: 80%;\n        width: 80%;\n        padding: 20% 5px 0;\n        background: rgba(0, 0, 0, 0.82);\n        color: #fff !important;\n        border-radius: 20px;\n    }\n    \n    .sv_q_file_preview{\n        position: relative;\n        width: 31%;\n        height: 120px;\n        overflow: hidden;\n        text-align: center;\n        margin: 1%;\n        border: 1px solid #f4f4f4;\n        padding: 15px;\n        img{\n            width: 100%;\n            // height: 200px;\n        }\n        a{\n           height: 40px;\n            overflow: hidden;\n            display: block;\n        }\n\n        &:hover {\n            .sv_q_file_remove {\n                display: block;\n            }\n        }\n    }\n\n    \n}\n\n    \n\n    \n\n\n</style>\n\n\n","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assessment.vue?vue&type=script&lang=js&\"","// Styles\nimport \"../../../src/components/VSnackbar/VSnackbar.sass\"; // Mixins\n\nimport Colorable from '../../mixins/colorable';\nimport Toggleable from '../../mixins/toggleable';\nimport { factory as PositionableFactory } from '../../mixins/positionable'; // Types\n\nimport mixins from '../../util/mixins';\nimport { removed } from '../../util/console';\nexport default mixins(Colorable, Toggleable, PositionableFactory(['absolute', 'top', 'bottom', 'left', 'right'])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n  props: {\n    multiLine: Boolean,\n    // TODO: change this to closeDelay to match other API in delayable.js\n    timeout: {\n      type: Number,\n      default: 6000\n    },\n    vertical: Boolean\n  },\n  data: () => ({\n    activeTimeout: -1\n  }),\n  computed: {\n    classes() {\n      return {\n        'v-snack--active': this.isActive,\n        'v-snack--absolute': this.absolute,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical\n      };\n    }\n\n  },\n  watch: {\n    isActive() {\n      this.setTimeout();\n    }\n\n  },\n\n  created() {\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this);\n    }\n  },\n\n  mounted() {\n    this.setTimeout();\n  },\n\n  methods: {\n    setTimeout() {\n      window.clearTimeout(this.activeTimeout);\n\n      if (this.isActive && this.timeout) {\n        this.activeTimeout = window.setTimeout(() => {\n          this.isActive = false;\n        }, this.timeout);\n      }\n    }\n\n  },\n\n  render(h) {\n    return h('transition', {\n      attrs: {\n        name: 'v-snack-transition'\n      }\n    }, [this.isActive && h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      on: this.$listeners\n    }, [h('div', this.setBackgroundColor(this.color, {\n      staticClass: 'v-snack__wrapper'\n    }), [h('div', {\n      staticClass: 'v-snack__content'\n    }, this.$slots.default)])])]);\n  }\n\n});\n//# sourceMappingURL=VSnackbar.js.map","import { render, staticRenderFns } from \"./Assessment.vue?vue&type=template&id=21ee1e4a&\"\nimport script from \"./Assessment.vue?vue&type=script&lang=js&\"\nexport * from \"./Assessment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Assessment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCol,VProgressCircular,VProgressLinear,VRow,VSnackbar})\n"],"sourceRoot":""}